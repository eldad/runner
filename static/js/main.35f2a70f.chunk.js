(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,n,r){e.exports=r(76)},74:function(e,n,r){},76:function(e,n,r){"use strict";r.r(n);var t=r(23),a=r(0),o=r(1),i=r(12),c=r(10),u=r(21),s=r(26),f=r(32),v=r(16),l=document;function d(e){return e.key}function m(e,n){return e.fillStyle=n,0}function g(e,n){return e.font=n,0}function p(e,n){return e.measureText(n).width}function h(e){var n=l.createElement("img");return n.src=e,n}function b(e,n,r,t,a,o,i,c){return e.drawImage(n,r,t,i,c,a,o,i,c),0}var w=r(25),y=r(4),x=r(15);function k(e,n,r,t,a,o){var i=void 0!==a?a:1;return[h(e),n,r,t,i]}function S(e,n,r,t,a,o){var i=x.b(r[2],x.c(o,r[3])),c=r[4]&&void 0!==e?(e-a|0)-r[1]|0:a;return b(n,r[0],i,0,t,c,r[2],r[1])}function E(e,n,r,t,a){var o=void 0!==t?t:0;return[h(e),n,r,o]}function P(e,n,r,t,a){var o=n[3]?t-n[1]|0:0,i=x.c(a,n[2]);i<0&&(i=i+n[2]|0);var c=Math.min(n[2]-i|0,r);b(e,n[0],i,0,0,o,c,n[1]);for(var u=c;u<r;){var s=Math.min(r-u|0,n[2]);b(e,n[0],0,0,u,o,s,n[1]),u=u+n[2]|0}return 0}var M=E("media/citymega-bg.png",316,1600,void 0),R=E("media/citymega-pavement.png",15,192,1),N=E("media/citymega-distantstreet.png",268,1600,1),T=E("media/citymega-powerlines.png",111,1600,1),I=E("media/citymega-fgstreet.png",242,1600,1),W=k("media/citymega-greenbob.png",32,32,6,void 0),L=k("media/citymega-greenbob-jump.png",32,32,2,void 0),C=k("media/citymega-crate24.png",24,24,1,void 0),A=15,F=r(13);s.c(0);var H=32;function j(e){return[a.a(0,[.5]),0,0,0,200,0,0,0,[],void 0]}function q(e){var n=j();return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],e[9]]}function U(e){var n=f.b(F.f,v.a(localStorage.getItem("highscore"))),r=j();return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],n]}function B(e){var n=e[0];if("number"!==typeof n&&n.tag){var r=e[9],t=void 0!==r?Math.max(e[7],r):e[7];return function(e){var n=e[9];return void 0!==n&&localStorage.setItem("highscore",String(n)),e}([e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],t])}return e}function G(e,n){var r=e[0];return"number"===typeof r?B(function(e){if(e[8].length<1)for(var n=e[3]+700,r=0,t=s.b(9);r<=t;++r){var a=n+120+s.a(150);e[8].push(a),n=a}return e}(function(e){var n=e[7];return 0!==e[8].length&&y.c(e[8],0)<e[3]-(C[2]+1|0)&&(e[8].shift(),n=n+1|0),[e[0],e[1],e[2],e[3],e[4],e[5],e[6],n,e[8],e[9]]}(function(e){var n=[!1];return t.b(function(r){return r<=e[3]+H&&r+C[2]>=e[3]+20&&w.a(e[2])<C[1]?(n[0]=!0,0):0},e[8]),n[0]?[a.a(1,[1]),e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]]:e}(function(e,n){var r,t=e[1];if("number"===typeof t)if(0!==t)if(0===e[2])r=[e[0],0,e[2],e[3],e[4],0,e[6],e[7],e[8],e[9]];else{var a=e[5]+-9.8,o=n*a,i=Math.max(0,o+e[2]);r=[e[0],e[1],i,e[3],e[4],a,e[6],e[7],e[8],e[9]]}else r=e;else{var c=t[0];if(0===c&&0===e[2])r=[e[0],0,e[2],e[3],e[4],0,e[6],e[7],e[8],e[9]];else{var u=(c>0?10:0)-9.8,s=e[5]+u,f=n*s,v=Math.max(0,f+e[2]),l=[Math.max(0,c-n)];r=[e[0],l,v,e[3],e[4],s,e[6],e[7],e[8],e[9]]}}var d=r[3]+n*r[4],m=r[6]+n;return[r[0],r[1],r[2],d,r[4],r[5],m,r[7],r[8],r[9]]}(e,n))))):r.tag?[a.a(1,[Math.max(0,r[0]-n)]),e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]]:[a.a(0,[Math.max(0,r[0]-n)]),e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]]}function J(e){var n=e[0],r=e[1];if("number"===typeof n)return"number"===typeof r&&0===r&&0===e[2]?[e[0],[.4],e[2],e[3],e[4],125,e[6],e[7],e[8],e[9]]:e;if(n.tag)return 0!==n[0]?e:q(e);if(0!==n[0])return e;var t=q(e);return[0,t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9]]}function O(e){return[e[0],1,e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]]}var D=r(34);function Y(e,n){if(n<=0)return e;var r=x.b(n,n);return w.a(e/r)}function _(e,n,r,t){g(e,o.a(u.a([a.a(4,[0,0,0,a.a(11,["px 'Press Start 2P'",0])]),"%dpx 'Press Start 2P'"]),48));var i=p(e,r),c=(n-i|0)/2|0;m(e,"#0007"),e.fillRect(c-20|0,32,i+40|0,88);var s=255*(1-Math.min(t,1))|0;return m(e,o.c(u.a([a.a(11,["rgb(",a.a(4,[0,0,0,a.a(11,[", ",a.a(4,[0,0,0,a.a(11,[", ",a.a(4,[0,0,0,a.a(12,[41,0])])])])])])]),"rgb(%d, %d, %d)"]),s,s,s)),e.fillText(r,c,100),0}function K(e,n){var r=o.a(u.a([a.a(11,["Points: ",a.a(4,[0,0,0,0])]),"Points: %d"]),n);g(e,o.a(u.a([a.a(4,[0,0,0,a.a(11,["px 'Press Start 2P'",0])]),"%dpx 'Press Start 2P'"]),16));var t=p(e,r);return m(e,"#0003"),e.fillRect(0,-6,t+20|0,36),m(e,"#fff"),e.fillText(r,10,20),0}function Q(e,n,r,i,c){r.clearRect(0,0,e,n);var s=0|i[3];P(r,M,e,n,Y(s,6)),P(r,N,e,n,Y(s,5)),P(r,I,e,n,Y(s,2)),P(r,T,e,n,Y(s,1)),P(r,R,e,n,Y(s,0));var f=0===i[2]?W:L,v="number"===typeof i[0]?w.a(10*i[6]):5,l=A+w.a(i[2])|0;S(n,r,f,10,l,v),t.b(function(t){var a=w.a(t-i[3]);return(a+C[2]|0)>0&&a<e?S(n,r,C,a,A,0):0},i[8]);var d=i[0];"number"===typeof d?i[6]<2&&_(r,e,"Run!",2-i[6]):d.tag?_(r,e,"Game Over",d[0]):_(r,e,"Ready?",d[0]);var h=i[0];"number"===typeof h?i[6]>3&&K(r,i[7]):h.tag&&K(r,i[7]);var b=i[0],y=i[9];return"number"!==typeof b&&void 0!==y&&function(e,n,r){var t=o.a(u.a([a.a(11,["Highscore: ",a.a(4,[0,0,0,0])]),"Highscore: %d"]),r);g(e,o.a(u.a([a.a(4,[0,0,0,a.a(11,["px 'Press Start 2P'",0])]),"%dpx 'Press Start 2P'"]),32));var i=p(e,t),c=(n-i|0)/2|0;m(e,"#0007"),e.fillRect(c-20|0,148,i+40|0,72),m(e,"#fff"),e.fillText(t,c,200)}(r,e,y),0}function Z(e){return[!1,!1,void 0,U()]}s.c(0);var $=D.b("App");var z=r(39),V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var r=e.installing;r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n.onSuccess&&n.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r(74),z.a(D.a(void 0,void 0,[$[0],$[1],$[2],$[3],function(e){var n=setInterval(function(n){return o.a(e[3],2)},0);o.a(e[4],function(e){return clearInterval(n),0});var r=function(n){if(!n.repeat)switch(d(n)){case" ":case"w":o.a(e[3],4)}return!0};l.addEventListener("keydown",r,!1),o.a(e[4],function(e){return l.removeEventListener("keydown",r,!1),0});var t=function(n){switch(d(n)){case" ":case"w":o.a(e[3],3)}return!0};return l.addEventListener("keyup",t,!1),o.a(e[4],function(e){return l.removeEventListener("keyup",t,!1),0}),0},function(e){var n,r=e[1],t=(n="canvas",f.b(function(e){return e.getContext("2d")},v.b(l.getElementById(n)))),a=r[1][3];if(void 0!==t&&void 0!==a){var o=a,i=v.d(t);return requestAnimationFrame(function(e){return Q(640,320,i,o)}),0}return 0},$[6],$[7],$[8],function(e){var n,r=e[1][3];if(void 0!==r){var s=r[9];n=void 0!==s?i.createElement("p",void 0,o.a(u.a([a.a(11,["Highscore: ",a.a(4,[0,0,0,0])]),"Highscore: %d"]),s)):null}else n=null;var d,m=e[1][3];return d=void 0!==m&&void 0!==m[9]?i.createElement("button",{className:c.b([c.g("10px"),0]),onClick:function(n){return o.a(e[3],1)}},u.a([a.a(11,["Wipe Save",0]),"Wipe Save"])):null,i.createElement("div",{className:c.b([c.c("flex"),[c.a("center"),[c.d("column"),0]]])},i.createElement("canvas",{className:c.b([a.a(1,[":not(:fullscreen)",[c.c("none"),0]]),[a.a(1,[":not(:-webkit-full-screen)",[c.c("none"),0]]),0]]),id:"canvas",height:String(320),width:String(640),onMouseDown:function(n){return o.a(e[3],4)},onMouseUp:function(n){return o.a(e[3],3)},onTouchEnd:function(n){return o.a(e[3],3)},onTouchStart:function(n){return o.a(e[3],4)}}),i.createElement("div",{className:c.b([c.c("flex"),[c.a("center"),[c.d("column"),0]]])},i.createElement("div",{className:c.b([c.c("flex"),[c.a("center"),[c.d("column"),[c.h("justify"),[c.f("600px"),[a.a(1,["@media (max-width: 600px)",[c.f("80vw"),0]]),[c.g("10px"),0]]]]]]])},i.createElement("p",void 0,"Runner"),n,i.createElement("button",{className:c.b([c.g("10px"),0]),onClick:function(n){var r;return r="canvas",f.a(function(e){var n=!1;try{e.requestFullscreen()}catch(r){n=!0}if(n){console.log("trying webkitRequestFullScreen");try{e.webkitRequestFullScreen()}catch(t){}}},v.b(l.getElementById(r))),o.a(e[3],[!0])}},"Run! (Fullscreen)"),d,i.createElement("p",{className:c.b([c.e("0.7rem"),0])},"Warning! Persons (or cats) playing this game may experience severe side effects.You may or may not be excited. Your highscore is all that matters -- make it count."),i.createElement("div",{className:c.b([c.e("0.5rem"),[c.h("center"),0]])},t.c(function(e,n){return i.createElement("p",{key:String(e),dangerouslySetInnerHTML:{__html:n}})},["Copyright (c) 2019 Eldad Zack <eldad@fogrefinery.com>","+++","Pixel Art from OpenGameArt.org by <a href=https://opengameart.org/users/grafxkid>Jason Mercado (GrafixKid)</a>"])))))},Z,$[11],function(e,n){var r=n[3];if("number"!==typeof e)return a.a(0,[[n[0],e[0],n[2],n[3]]]);switch(e){case 0:return a.a(0,[[!0,n[1],n[2],j()]]);case 1:return a.a(2,[[n[0],n[1],n[2],j()],function(e){return localStorage.clear(),0}]);case 2:var t=Date.now()/1e3,o=n[2];if(void 0!==o){var i=function(e,n){var r=e[3];if(void 0!==r){for(var t=r,a=e,o=n;o>0;){var i=Math.min(o,.1),c=a;a=[c[0],c[1],c[2],G(t,i)],o-=.1}return a}return e}(n,t-o);return a.a(0,[[i[0],i[1],t,i[3]]])}return a.a(0,[[n[0],n[1],t,n[3]]]);case 3:return void 0!==r&&n[1]?a.a(0,[[n[0],n[1],n[2],O(r)]]):0;case 4:return void 0!==r&&n[1]?a.a(0,[[n[0],n[1],n[2],J(r)]]):0}},$[13]]),"root"),function(e){if("serviceWorker"in navigator){if(new URL("/runner",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/runner","/service-worker.js");V?(function(e,n){fetch(e).then(function(r){404===r.status||-1===r.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):X(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):X(n,e)})}}()}},[[40,2,1]]]);
//# sourceMappingURL=main.35f2a70f.chunk.js.map